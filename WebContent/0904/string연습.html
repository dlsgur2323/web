<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Insert title here</title>
		<link href="../css/public.css" rel="stylesheet">
		<script>
			today = new Date();
			function proc1(){
				// 입력 - prompt
				idnumber = prompt("주민등록번호 입력");
				// 각 자릿수 지정 해서 문자열 추출
				if(idnumber.indexOf("-", 6) != -1){
					gender = idnumber.charAt(7);
				} else {
					gender = idnumber.charAt(6);
				}  
				// 비교 - 1900/ 2000 성별 비교 
				gender2 = "";
				if(gender > 2){
					birthday = (20 + idnumber.substring(0,2)) + "년 " + idnumber.slice(2, 4) + "월 " + idnumber.substr(4,2) + "일";
					age = today.getFullYear() - (20 + idnumber.substring(0,2)) +1;
					if(gender == 3){
						gender = "남자";
					} else {
						gender = "여자";
					}
				} else {
					birthday = (19 + idnumber.substring(0,2)) + "년 " + idnumber.slice(2, 4) + "월 " + idnumber.substr(4,2) + "일"; 
					age = today.getFullYear() - (19 + idnumber.substring(0,2)) +1;
					if(gender == 1){
						gender = "남자";
					} else {
						gender = "여자";
					}
				}
				
				// 출력 내용 작성
// 				res = "주민등록 번호 : " + idnumber + "<br>";
				res = "생일 : " + birthday + "<br>";
				res += "성별 : " + gender + " 나이 : " + age;
				
				
				// 출력
				document.querySelector("#result1").innerHTML = res;				
				
			}
			function proc2(){
				//곱하는 값 문자열
				str = "234567892345";
				input = prompt("주민등록번호 입력");
				bar = input.indexOf("-", 0);
				input = input.slice(0, bar) + input.slice(bar+1);
				sum = 0;
				for(i=0;i<input.length-1;i++){
					sum += input.charAt(i) * str.charAt(i);
				}
				result = 11 - (sum % 11);
				if(result == 10) result = 0;
				if(result == 11) result = 1;
				if(result == input.charAt(input.length-1)){
					res = "유효한 주민등록번호";
				} else {
					res = "유요하지 않은 주민등록번호"
				}
				
				document.querySelector("#result2").innerHTML = res;
			}
		</script>
	</head>
	<body>
		
		<div class="box">
			<h3>타이틀</h3>
			주민등록번호를 입력 받아 생년월일과 성별을 출력하는 프로그램을 작성하시오.<br>
			(입력을 prompt로 입력받는다.)<br>
			예 ) 주민등록번호를 110326-4432618로 입력받은 경우 <br>
				생일 : 2011년 3월 26일<br>
				성멸 : 여자 나이 : 10<br> 
			<input type="button" value="확인" onclick="proc1()">
			<div id="result1"></div>
		</div>
		 
		<div class="box">
			<h3>타이틀</h3>
			주민등록번호를 입력 받아 주민등록번호의 유효성을 검사하는 프로그램을 작성하시오<br>
			(ABCDEF-GHIJKLM)<br>
			1. A*2 + B*3 + ... + H * 9 + I*2+...+ L*5 의 총 합을 구한다.<br>
			2. 1번의 합을 11로 나눈 나머지를 구한다.<br>
			3. 11에서 2번의 결과를 뺀다.<br>
			4. 3번의 결과가 0~9이면 값 그대로, 10이면 0, 11이면 1로 변환<br>
			5. 4번의 결과와 M자리의 값이 같으면 맞는 번호이다.<br>
			
			<input type="button" value="확인" onclick="proc2()">
			<div id="result2"></div>
		</div> 
	</body>
</html>













